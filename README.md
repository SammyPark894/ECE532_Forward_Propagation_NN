# Please view this file in raw or source format

# ECE532_Forward_Propagation_NN

Design Tree

NN_Forward_Prop - root directory
  warmup_client.srcs\sources_1\bd - block diagram generated by Vivado
    design_1\hw_handoff\design_1_bd.tcl - use this tcl script to generate the block diagram
    
  warmup_client.sdk\NN2\src - SDK software side
    echo.c - handles the sending of image data and weight matrices one cell at a time to the hardware side as well as start, ready, done signals.
    main.c - initializes the TCP connection with specified IP address
  warmup_client.sdk\NN2_bsp\microblaze_0\libsrc\axi_noweights_v1_0\src - contains driver files of custom AXI and neural network
    axi_noweights.c, axi_noweights.h - contains address mappings of the registers required to communicate with the hardware neural network

axi_noweights - custom AXI and neural network IP root directory
  axi_noweights_1.0\hdl - directory of original Slave AXI modules
    axi_noweights_v1_0.v - modified to directly instantiate second_top.sv
    axi_noweights_v1_0_S00_AXI.v - modified to support input and output ports for 12 registers
  axi_noweights_1.0\src - directory of neural network modules
    second_top.sv - reads data image and weights from axi_noweights_v1_0_S00_AXI.v registers and sends outputs back to it
    topLevel.sv - instantiates the neural layer modules and performs AXI between each layer
    convLayer1.sv - convolutional layer with k = 7, stride = 7, and input shape = 28x28
    convLayer2.sv -  convolutional layer with k = 2, stride = 2, and input shape = 4x4
    meanMod.sv - a mean layer that outputs the average of the input matrix
    linLay.sv - a linear layer with input shape = 1x1 and output shape 1x9
    FPUnit.sv - a fully custom 32 bit floating point unit 



######################################################################

The neural network can be updated by editing the axi_noweights through IP editing on Vivado.
Everytime it is updated, make sure to also update it on the NN_Forward_Prop project.

The NN2_bsp folder contains various driver files and should be regenerated the when this project is opened the first time.
